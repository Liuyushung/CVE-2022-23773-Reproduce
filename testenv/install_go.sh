#!/bin/bash
YELLOW='\033[1;33m'
NC='\033[0m'

sudo rm -rf ~/go
sudo rm -rf /usr/local/go

echo -e "${YELLOW}Version? 1) go1.11.1; 2) go1.19.3${NC}"
read version

case $version in
    "1" )
    echo -e "${YELLOW}Installing go1.11.1${NC}"

    wget -q https://golang.org/dl/go1.11.1.linux-amd64.tar.gz
    sudo tar -C /usr/local -xzf go1.11.1.linux-amd64.tar.gz
    rm go1.11.1.linux-amd64.tar.gz

    ;;
    "2" )
    echo -e "${YELLOW}Installing go1.19.3${NC}"
    
    wget -q https://golang.org/dl/go1.19.3.linux-amd64.tar.gz
    sudo tar -C /usr/local -xzf go1.19.3.linux-amd64.tar.gz
    rm go1.19.3.linux-amd64.tar.gz

    ;;
esac

mkdir -p ~/go/{bin,pkg,src}
echo 'export GOPATH=$HOME/go' >> ~/.bashrc
echo 'export GOROOT=/usr/local/go' >> ~/.bashrc
echo 'export PATH=$PATH:$GOPATH/bin:$GOROOT/bin' >> ~/.bashrc
echo 'export GO111MODULE=auto' >> ~/.bashrc
source ~/.bashrc

echo -e "${YELLOW}Checking go version${NC}"
go version